

## 扫描网段 多网段
```
nmap -sn -PE 192.168.1.0/24
nmap -sn -PE 192.168.1.10-255
nmap -sn -PE 192.168.1.10,23,200,210
nmap -sn -PE 192.168.0-255.10-255
nmap -sn -PE 192.168.3-5,8.10-255
```

参考: https://www.cnblogs.com/nmap/p/6232969.html

## 探测主机存活常用方式
``` cmd
-sP : #进行ping扫描 
$ nmap -sP 10.0.3.0/24      #进行ping扫描 10.0.3.0/24这个网段的的主机
$ nmap  -sn 10.0.1.161-166  #ping探测扫描主机， 不进行端口扫描
$ nmap 10.0.1.161 -sA       #发送tcp的ack包进行探测，可以探测主机是否存活
``` 

## 端口扫描的高级用法
```cmd 
$ nmap  -sS   10.0.1.161  #半开放扫描（非3次握手的tcp扫描）
$ nmap  -sT   10.0.1.161  #3次握手方式tcp的扫描
$ nmap -sU 10.0.1.161     #udp端口的扫描
$ nmap -sF  10.0.1.161    #也是tcp的扫描一种，发送一个FIN标志的数据包


$ nmap -sW  10.0.1.161  -p22  #窗口扫描
$ nmap -sV 10.0.1.161         #版本检测(sV)
```

## 通过nmap扫描完之后，查看arp缓存表即可查看IP-MAC表

```cmd
$ nmap -sP 172.17.148.0/24  #1.进行ping扫描，输出所有响应的主机IP：
$ nmap -A 172.17.148.168    #2.扫描指定主机的开放端口，系统版本等信息：
$ nmap -sU 172.17.148.0/24  #3.UDP扫描（需要root权限，且速度慢）：
$ namp -sS 172.17.148.0/24  #SYN扫描（需要root权限）
$cat /proc/net/arp          #查看扫描结果
```

## nmap扫描网段内的所有IP

```cmd
$nmap -sP -PI -PT 192.168.1.0/24 
```